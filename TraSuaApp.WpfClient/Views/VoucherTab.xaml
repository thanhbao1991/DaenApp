<UserControl
    x:Class="TraSuaApp.WpfClient.Views.VoucherTab"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Thanh điều hướng tháng + tổng + tải lại  -->
        <StackPanel
            Grid.Row="0"
            Margin="0,0,0,8"
            VerticalAlignment="Center"
            Orientation="Horizontal">

            <Button
                x:Name="PrevButton"
                Padding="10,4"
                Click="PrevButton_Click"
                Style="{StaticResource BaseButtonStyle}">
                ← Tháng trước
            </Button>

            <TextBlock
                x:Name="MonthLabel"
                Margin="12,0"
                VerticalAlignment="Center"
                FontSize="{StaticResource FontSizeLarge}"
                FontWeight="Bold"
                Foreground="{StaticResource DarkForeground}"
                Text="MM/yyyy" />

            <Button
                x:Name="NextButton"
                Padding="10,4"
                Click="NextButton_Click"
                Style="{StaticResource BaseButtonStyle}">
                Tháng sau →
            </Button>

            <!--  Tổng voucher  -->
            <TextBlock
                x:Name="TongTienTextBlock"
                Margin="20,0,0,0"
                VerticalAlignment="Center"
                FontSize="{StaticResource FontSizeLarge}"
                FontWeight="Bold"
                Foreground="{StaticResource DarkForeground}" />

            <!--  Nút tải lại có spinner (style trong App.xaml)  -->
            <Button
                x:Name="ReloadButton"
                Margin="12,0,0,0"
                Padding="12,4"
                Click="ReloadButton_Click"
                Style="{StaticResource ButtonWithSpinnerStyle}"
                ToolTip="Tải lại dữ liệu tháng đang xem">
                Tải lại
            </Button>
        </StackPanel>

        <!--  Bảng dữ liệu  -->
        <DataGrid
            x:Name="VoucherDataGrid"
            Grid.Row="1"
            AutoGenerateColumns="False"
            IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn
                    Width="50"
                    Binding="{Binding Stt}"
                    ElementStyle="{StaticResource CenterTextCellStyle}"
                    Header="STT" />
                <DataGridTextColumn
                    Width="100"
                    Binding="{Binding Ngay, StringFormat=dd/MM/yyyy}"
                    ElementStyle="{StaticResource CenterTextCellStyle}"
                    Header="Ngày" />
                <DataGridTextColumn
                    Width="200"
                    Binding="{Binding TenKhachHang}"
                    ElementStyle="{StaticResource LeftTextCellStyle}"
                    Header="Khách hàng" />
                <DataGridTextColumn
                    Width="100"
                    Binding="{Binding GiaTriApDung, StringFormat=N0}"
                    ElementStyle="{StaticResource RightTextCellStyle}"
                    Header="Giá trị áp dụng" />
                <DataGridTextColumn
                    Width="*"
                    Binding="{Binding TenVoucher}"
                    ElementStyle="{StaticResource LeftTextCellStyle}"
                    Header="Tên voucher" />

            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>