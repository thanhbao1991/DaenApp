<UserControl
    x:Class="TraSuaApp.WpfClient.Views.VoucherTab"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <DockPanel Margin="4">
            <StackPanel DockPanel.Dock="Left" Orientation="Horizontal">
                <TextBlock
                    Padding="8"
                    VerticalAlignment="Center"
                    Text="Tìm kiếm:" />
                <ComboBox
                    x:Name="VoucherComboBox"
                    Width="220"
                    Margin="8,0,0,0"
                    DisplayMemberPath="Ten"
                    SelectedValuePath="Id"
                    SelectionChanged="VoucherComboBox_SelectionChanged"
                    ToolTip="Chọn voucher để lọc" />

            </StackPanel>
            <!--  ⬇️ NÚT TÌM NHANH KHÔI PHỤC  -->
            <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                <Button
                    x:Name="PrevButton"
                    Margin="8,0,0,0"
                    Click="PrevButton_Click"
                    Style="{StaticResource AddButtonStyle}">
                    ← Tháng trước
                </Button>
                <TextBlock
                    x:Name="MonthLabel"
                    Margin="8,0,0,0"
                    VerticalAlignment="Center"
                    FontSize="{StaticResource FontSizeLarge}"
                    FontWeight="Bold"
                    Foreground="{StaticResource LightBrush}"
                    Text="MM/yyyy" />
                <Button
                    x:Name="NextButton"
                    Margin="8,0,0,0"
                    Click="NextButton_Click"
                    Style="{StaticResource AddButtonStyle}">
                    Tháng sau →
                </Button>
                <Button
                    x:Name="ReloadButton"
                    Margin="8,0,0,0"
                    Click="ReloadButton_Click"
                    Style="{StaticResource ReloadButtonStyle}"
                    ToolTip="Tải lại dữ liệu tháng đang xem">
                    Tải lại
                </Button>
            </StackPanel>

        </DockPanel>


        <DataGrid
            x:Name="VoucherDataGrid"
            Grid.Row="1"
            AutoGenerateColumns="False"
            IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn
                    Width="60"
                    Binding="{Binding Stt}"
                    ElementStyle="{StaticResource CenterTextCellStyle}"
                    Header="STT" />
                <DataGridTextColumn
                    Width="110"
                    Binding="{Binding Ngay, StringFormat=dd/MM/yyyy}"
                    ElementStyle="{StaticResource CenterTextCellStyle}"
                    Header="Ngày" />
                <DataGridTextColumn
                    Width="*"
                    Binding="{Binding TenVoucher}"
                    ElementStyle="{StaticResource LeftTextCellStyle}"
                    Header="Voucher" />
                <DataGridTextColumn
                    x:Name="TongTienTextBlock"
                    Width="160"
                    Binding="{Binding GiaTriApDung, StringFormat=N0}"
                    ElementStyle="{StaticResource RightTextCellStyle}"
                    Header="Giá trị áp dụng" />
                <DataGridTextColumn
                    Width="2*"
                    Binding="{Binding TenKhachHang}"
                    ElementStyle="{StaticResource LeftTextCellStyle}"
                    Header="Khách hàng" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>