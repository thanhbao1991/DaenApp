<UserControl
    x:Class="TraSuaApp.WpfClient.Views.ThongKeTab"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="#f6f6f6"
    SnapsToDevicePixels="True"
    TextOptions.TextFormattingMode="Display"
    TextOptions.TextRenderingMode="ClearType"
    UseLayoutRounding="True">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  Thanh điều hướng ngày  -->
        <StackPanel
            Grid.Row="1"
            Margin="10"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Bottom"
            Orientation="Horizontal">
            <Button
                x:Name="PrevButton"
                Margin="0,0,8,0"
                Click="PrevButton_Click"
                Style="{StaticResource AddButtonStyle}">
                Ngày trước
            </Button>
            <Border
                Padding="8,4"
                VerticalAlignment="Stretch"
                Background="#EEE"
                CornerRadius="6">
                <TextBlock
                    x:Name="DateTextBlock"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    Foreground="{StaticResource DarkBrush}"
                    Text="--/--/----" />
            </Border>
            <Button
                x:Name="NextButton"
                Margin="8,0,8,0"
                Click="NextButton_Click"
                Style="{StaticResource AddButtonStyle}">
                Ngày sau
            </Button>
        </StackPanel>

        <!--  Layout chính  -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!--  Bên trái: Tổng hợp cố định  -->
            <Border
                Grid.Column="0"
                Margin="8,10,8,50"
                Padding="0"
                Background="White"
                BorderBrush="{StaticResource SecondaryBrush}"
                BorderThickness="1"
                CornerRadius="12"
                SnapsToDevicePixels="True">

                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>

                        <!--  Doanh thu  -->
                        <Border
                            Padding="6"
                            Background="{StaticResource PrimaryBrush}"
                            CornerRadius=" 12 12  0 0">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="Doanh thu" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="{Binding DoanhThu, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Chưa thu  -->
                        <Border Padding="6" Background="{StaticResource WarningBrush}">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="Chưa thu" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="{Binding ChuaThu, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Công nợ  -->
                        <Border Padding="6" Background="{StaticResource DangerBrush}">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="Công nợ" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="{Binding CongNo, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Đã thu  -->
                        <Border Padding="6" Background="{StaticResource SuccessBrush}">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="Đã thu" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="{Binding DaThu, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Đã thu chi tiết  -->
                        <!--<Border Padding="6" Background="LightGreen">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Tiền mặt (Nhã)" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding DaThu_TienMat, StringFormat=N0}" />
                            </DockPanel>
                        </Border>-->

                        <Border Padding="6" Background="LightGreen">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Tiền mặt (Khánh)" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding DaThu_Khanh, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <Border Padding="6" Background="LightGreen">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Banking" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding DaThu_Banking, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Chi tiêu  -->
                        <Border Padding="6" Background="LightGreen">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Chi tiêu" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding ChiTieu, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Mang về  -->
                        <Border Padding="6" Background="LightGreen">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="KIỂM TIỀN" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="{Binding MangVe, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Trả nợ  -->
                        <Border Padding="6" Background="Gray">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="Trả nợ" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Text="{Binding TongTraNo, StringFormat=N0}" />
                            </DockPanel>
                        </Border>
                        <Border Padding="6" Background="LightGray">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Trả nợ (Nhã)" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding TraNoTien, StringFormat=N0}" />
                            </DockPanel>
                        </Border>
                        <Border Padding="6" Background="LightGray">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Trả nợ (Khánh)" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding TraNoKhanh, StringFormat=N0}" />
                            </DockPanel>
                        </Border>
                        <Border Padding="6" Background="LightGray">
                            <DockPanel>
                                <TextBlock Foreground="Black" Text="- Trả nợ (Bank)" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    Foreground="Black"
                                    Text="{Binding TraNoBank, StringFormat=N0}" />
                            </DockPanel>
                        </Border>

                        <!--  Tổng đơn  -->
                        <Border Padding="6" Background="White">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="Tổng số đơn" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="{Binding TongSoDon}" />
                            </DockPanel>
                        </Border>

                        <!--  Tổng ly  -->
                        <Border Padding="6" Background="White">
                            <DockPanel>
                                <TextBlock
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="Tổng số ly" />
                                <TextBlock
                                    HorizontalAlignment="Right"
                                    DockPanel.Dock="Right"
                                    FontWeight="Bold"
                                    Foreground="Black"
                                    Text="{Binding TongSoLy}" />
                            </DockPanel>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!--  Bên phải: TopSP + các card chi tiết  -->
            <UniformGrid
                Grid.Column="1"
                Margin="5"
                Columns="4"
                Rows="0"
                SnapsToDevicePixels="True">


                <!--  Doanh thu  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource PrimaryBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource SuccessForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="DoanhThuStackPanel" />
                    </ScrollViewer>
                </Border>
                <!--  Chưa thu  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource WarningBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource LightForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="ChuaThuStackPanel" />
                    </ScrollViewer>
                </Border>
                <!--  Công nợ  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource DangerBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource DangerForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="CongNoStackPanel" />
                    </ScrollViewer>
                </Border>

                <!--  Đã thu  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource SuccessBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource DarkForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="DaThuStackPanel" />
                    </ScrollViewer>
                </Border>

                <!--  Chi tiêu  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource DarkBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource DarkForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="ChiTieuStackPanel" />
                    </ScrollViewer>
                </Border>


                <!--  Trả nợ tiền  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="LightGreen"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource LightForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="TraNoTienStackPanel" />
                    </ScrollViewer>
                </Border>

                <!--  Trả nợ bank  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="LightYellow"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource InfoForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="TraNoBankStackPanel" />
                    </ScrollViewer>
                </Border>


                <!--  Top sản phẩm bán chạy  -->
                <Border
                    Margin="5"
                    Padding="10"
                    Background="{StaticResource InfoBrush}"
                    CornerRadius="8">
                    <ScrollViewer Foreground="{StaticResource PrimaryForeground}" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="TopSanPhamStackPanel" />
                    </ScrollViewer>
                </Border>

            </UniformGrid>
        </Grid>
    </Grid>
</UserControl>